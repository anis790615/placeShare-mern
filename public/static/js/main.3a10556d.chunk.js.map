{"version":3,"sources":["shared/hooks/auth-hook.js","shared/components/UIElements/Avatar.js","shared/components/UIElements/Card.js","user/components/UserItem.js","user/components/UsersList.js","shared/components/UIElements/Backdrop.js","shared/components/UIElements/Modal.js","shared/components/FormElements/Button.js","shared/components/UIElements/ErrorModal.js","shared/components/UIElements/LoadingSpinner.js","shared/hooks/http-hook.js","user/pages/Users.js","shared/util/validators.js","shared/components/FormElements/Input.js","shared/hooks/form-hook.js","shared/context/auth-context.js","shared/components/FormElements/ImageUpload.js","places/pages/NewPlace.js","shared/components/Navigation/MainHeader.js","shared/components/Navigation/SideDrawer.js","shared/components/Navigation/NavLinks.js","shared/components/Navigation/MainNavigation.js","shared/components/UIElements/Map.js","places/components/PlaceItem.js","places/components/PlacesList.js","places/pages/UserPlaces.js","places/pages/UpdatePlace.js","user/pages/Auth.js","App.js","index.js"],"names":["logoutTimer","Avatar","props","className","style","src","image","alt","width","height","Card","children","UserItem","to","id","process","name","placeCount","UsersList","items","length","map","user","key","places","Backdrop","ReactDOM","createPortal","onClick","document","getElementById","ModalOverlay","content","headerClass","header","onSubmit","e","preventDefault","contentClass","footerClass","footer","Modal","show","onCancel","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","Button","href","size","inverse","danger","exact","type","disabled","ErrorModal","onClear","error","LoadingSpinner","asOverlay","useHttpClient","useState","isLoading","setIsLoading","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortController","AbortController","current","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","Users","users","setUsers","clearError","fetchUsers","VALIDATOR_MINLENGTH","val","validate","value","validators","isValid","validator","trim","test","inputReducer","state","action","payload","isTouched","Input","useReducer","initialValue","initialIsValid","inputState","dispatch","onInput","changeHandler","target","touchHandler","element","placeholder","onChange","onBlur","rows","htmlFor","label","errorText","formReducer","formIsValid","inputId","inputs","useForm","initialInputs","initialFormValidity","formState","inputData","formValidity","AuthContext","createContext","isLoggedIn","userId","token","login","logout","ImageUpload","file","setFile","previewUrl","setPreviewUrl","setIsValid","filePickerRef","fileReader","FileReader","onload","result","readAsDataURL","ref","display","accept","pickedFile","fileIsValid","files","center","click","NewPlace","useHistory","useContext","placeSubmitHandler","formData","FormData","append","title","description","address","Authorization","inputHandler","MainHeader","SideDrawer","NavLinks","MainNavigation","drawerIsOpen","setDrawerIsOpen","closeDrawerHandler","Map","mapRef","zoom","window","google","maps","Marker","position","PlaceItem","showMap","setShowMap","showConfirmModal","setShowConfirmModal","closeMapHandler","closeConfirmModalHandler","confirmDeleteHandler","onDelete","coordinates","creatorId","PlacesList","place","creator","location","onDeletePlace","UserPlaces","uid","useParams","userPlaces","setUserPlaces","fetchPlaces","deletedPlaceId","prevPlaces","UpdatePlace","pid","fetchedPlace","setFetchedPlace","placeUpdateHandler","JSON","stringify","setFormData","fetchPlace","Auth","isLoginMode","setIsLoginMode","email","password","authSubmitHandler","undefined","prevMode","App","routes","tokenExpirationDate","setTokenExpirationDate","setToken","setUserId","expirationDate","Date","getTime","localStorage","setItem","expiration","toISOString","removeItem","remainingTime","setTimeout","clearTimeout","storedData","parse","getItem","useAuth","path","Provider","render"],"mappings":"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","file":"static/js/main.3a10556d.chunk.js","sourcesContent":["import { useCallback, useState, useEffect } from \"react\";\n\nlet logoutTimer;\nexport const useAuth = () => {\n  const [tokenExpirationDate, setTokenExpirationDate] = useState();\n  const [token, setToken] = useState(null);\n  const [userId, setUserId] = useState(null);\n\n  const login = useCallback((userId, token, expirationDate) => {\n    setToken(token);\n    setUserId(userId);\n    const tokenExpirationDate =\n      expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60);\n    setTokenExpirationDate(tokenExpirationDate);\n    localStorage.setItem(\n      \"userData\",\n      JSON.stringify({\n        userId,\n        token,\n        expiration: tokenExpirationDate.toISOString(),\n      })\n    );\n  }, []);\n  const logout = useCallback(() => {\n    setToken(null);\n    setTokenExpirationDate(null);\n    setUserId(null);\n    localStorage.removeItem(\"userData\");\n  }, []);\n\n  // Side effects\n  useEffect(() => {\n    if (token && tokenExpirationDate) {\n      const remainingTime =\n        tokenExpirationDate.getTime() - new Date().getTime();\n      logoutTimer = setTimeout(logout, remainingTime);\n    } else {\n      clearTimeout(logoutTimer);\n    }\n    return () => {};\n  }, [token, logout, tokenExpirationDate]);\n\n  useEffect(() => {\n    const storedData = JSON.parse(localStorage.getItem(\"userData\"));\n    if (\n      storedData &&\n      storedData.token &&\n      new Date(storedData.expiration) > new Date()\n    ) {\n      login(\n        storedData.userId,\n        storedData.token,\n        new Date(storedData.expiration)\n      );\n    }\n    return () => {};\n  }, [login]);\n  return [login, logout, token, userId];\n};\n","import React from 'react';\n\nimport './Avatar.css';\n\nconst Avatar = props => {\n  return (\n    <div className={`avatar ${props.className}`} style={props.style}>\n      <img\n        src={props.image}\n        alt={props.alt}\n        style={{ width: props.width, height: props.width }}\n      />\n    </div>\n  );\n};\n\nexport default Avatar;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Avatar from \"../../shared/components/UIElements/Avatar\";\nimport Card from \"../../shared/components/UIElements/Card\";\nimport \"./UserItem.css\";\n\nconst UserItem = (props) => {\n  return (\n    <li className=\"user-item\">\n      <Card className=\"user-item__content\">\n        <Link to={`/${props.id}/places`}>\n          <div className=\"user-item__image\">\n            <Avatar\n              image={`${process.env.REACT_APP_ASSET_URL}/${props.image}`}\n              alt={`${props.name}_photo`}\n            />\n          </div>\n          <div className=\"user-item__info\">\n            <h2>{props.name}</h2>\n            <h3>\n              {props.placeCount} {props.placeCount === 1 ? \"Place\" : \"Places\"}\n            </h3>\n          </div>\n        </Link>\n      </Card>\n    </li>\n  );\n};\n\nexport default UserItem;\n","import React from \"react\";\n\nimport UserItem from \"./UserItem\";\nimport Card from \"../../shared/components/UIElements/Card\";\nimport \"./UsersList.css\";\n\nconst UsersList = ({ items }) => {\n  if (items.length === 0) {\n    return (\n      <div className=\"center\">\n        <Card>\n          <h2>No users found</h2>\n        </Card>\n      </div>\n    );\n  }\n  return (\n    <ul className=\"users-list\">\n      {items.map((user) => (\n        <UserItem\n          key={user.id}\n          id={user.id}\n          image={user.image}\n          name={user.name}\n          placeCount={user.places.length}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default UsersList;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./Backdrop.css\";\n\nconst Backdrop = (props) => {\n  return ReactDOM.createPortal(\n    <div className=\"backdrop\" onClick={props.onClick}></div>,\n    document.getElementById(\"backdrop-portal\")\n  );\n};\n\nexport default Backdrop;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { CSSTransition } from \"react-transition-group\";\n\nimport Backdrop from \"./Backdrop\";\nimport \"./Modal.css\";\n\nconst ModalOverlay = (props) => {\n  const content = (\n    <div className={`modal ${props.className}`} style={props.style}>\n      <header className={`modal__header ${props.headerClass}`}>\n        <h2>{props.header}</h2>\n      </header>\n      <form\n        onSubmit={props.onSubmit ? props.onSubmit : (e) => e.preventDefault()}\n      >\n        <div className={`modal__content ${props.contentClass}`}>\n          {props.children}\n        </div>\n        <footer className={`modal__footer ${props.footerClass}`}>\n          {props.footer}\n        </footer>\n      </form>\n    </div>\n  );\n  return ReactDOM.createPortal(\n    content,\n    document.getElementById(\"modal-portal\")\n  );\n};\nconst Modal = (props) => {\n  return (\n    <>\n      {props.show && <Backdrop onClick={props.onCancel} />}\n      <CSSTransition\n        in={props.show}\n        mountOnEnter\n        unmountOnExit\n        timeout={200}\n        classNames=\"modal\"\n      >\n        <ModalOverlay {...props} />\n      </CSSTransition>\n    </>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Button.css';\n\nconst Button = props => {\n  if (props.href) {\n    return (\n      <a\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n        href={props.href}\n      >\n        {props.children}\n      </a>\n    );\n  }\n  if (props.to) {\n    return (\n      <Link\n        to={props.to}\n        exact={props.exact}\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n      >\n        {props.children}\n      </Link>\n    );\n  }\n  return (\n    <button\n      className={`button button--${props.size || 'default'} ${props.inverse &&\n        'button--inverse'} ${props.danger && 'button--danger'}`}\n      type={props.type}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\n\nimport Modal from \"./Modal\";\nimport Button from \"../FormElements/Button\";\n\nconst ErrorModal = (props) => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import React from 'react';\n\nimport './LoadingSpinner.css';\n\nconst LoadingSpinner = props => {\n  return (\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\n      <div className=\"lds-dual-ring\"></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import { useState, useCallback, useRef, useEffect } from \"react\";\n\nexport const useHttpClient = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const activeHttpRequests = useRef([]);\n\n  // Functions\n  const sendRequest = useCallback(\n    async (url, method = \"GET\", body = null, headers = {}) => {\n      setIsLoading(true);\n      const httpAbortController = new AbortController();\n      activeHttpRequests.current.push(httpAbortController);\n      try {\n        const response = await fetch(url, {\n          method,\n          body,\n          headers,\n          signal: httpAbortController.signal,\n        });\n        const responseData = await response.json();\n        activeHttpRequests.current = activeHttpRequests.current.filter(\n          (reqCtrl) => reqCtrl !== httpAbortController\n        );\n        if (!response.ok) throw new Error(responseData.message);\n        setIsLoading(false);\n        return responseData;\n      } catch (error) {\n        setError(error.message);\n        setIsLoading(false);\n        throw error;\n      }\n    },\n    []\n  );\n  const clearError = () => {\n    setError(null);\n  };\n  // side effects\n  useEffect(() => {\n    return () => {\n      activeHttpRequests.current.forEach((abortCtrl) => abortCtrl.abort());\n    };\n  }, []);\n  return [isLoading, error, sendRequest, clearError];\n};\n","import React, { useEffect, useState } from \"react\";\n\nimport UsersList from \"../components/UsersList\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\n\nconst Users = () => {\n  const [users, setUsers] = useState([]);\n  const [isLoading, error, sendRequest, clearError] = useHttpClient();\n\n  // Side-effects and custom hooks\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const { users } = await sendRequest(\n          `${process.env.REACT_APP_BACKEND_URL}/users`\n        );\n        setUsers(users);\n      } catch (error) {}\n    };\n    fetchUsers();\n    return () => {};\n  }, [sendRequest]);\n\n  // Functions\n\n  return (\n    <>\n      <ErrorModal error={error} onClear={clearError} />\n      {isLoading && (\n        <div className=\"center\">\n          <LoadingSpinner />\n        </div>\n      )}\n      {!isLoading && users && <UsersList items={users} />}\n    </>\n  );\n};\n\nexport default Users;\n","const VALIDATOR_TYPE_REQUIRE = \"REQUIRE\";\nconst VALIDATOR_TYPE_MINLENGTH = \"MINLENGTH\";\nconst VALIDATOR_TYPE_MAXLENGTH = \"MAXLENGTH\";\nconst VALIDATOR_TYPE_MIN = \"MIN\";\nconst VALIDATOR_TYPE_MAX = \"MAX\";\nconst VALIDATOR_TYPE_EMAIL = \"EMAIL\";\nconst VALIDATOR_TYPE_FILE = \"FILE\";\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = (val) => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val,\n});\nexport const VALIDATOR_MAXLENGTH = (val) => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  payload: val,\n});\nexport const VALIDATOR_MIN = (val) => ({\n  type: VALIDATOR_TYPE_MIN,\n  payload: val,\n});\nexport const VALIDATOR_MAX = (val) => ({\n  type: VALIDATOR_TYPE_MAX,\n  payload: val,\n});\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n    }\n  }\n  return isValid;\n};\n","import React, { useReducer, useEffect } from \"react\";\n\nimport { validate } from \"../../util/validators\";\nimport \"./Input.css\";\n\n// Reducer\nconst inputReducer = (state, action) => {\n  switch (action.type) {\n    case \"CHANGE\":\n      return {\n        ...state,\n        value: action.payload,\n        isValid: validate(action.payload, action.validators),\n      };\n    case \"TOUCH\":\n      return {\n        ...state,\n        isTouched: true,\n      };\n    default:\n      return state;\n  }\n};\nconst Input = (props) => {\n  const [inputState, dispatch] = useReducer(inputReducer, {\n    value: props.initialValue || \"\",\n    isTouched: false,\n    isValid: props.initialIsValid || false,\n  });\n  const { id, onInput } = props;\n  const { value, isValid } = inputState;\n\n  // Functions\n  const changeHandler = (e) => {\n    dispatch({\n      type: \"CHANGE\",\n      payload: e.target.value,\n      validators: props.validators,\n    });\n  };\n  const touchHandler = (e) => {\n    dispatch({\n      type: \"TOUCH\",\n    });\n  };\n  // Side-effects\n  useEffect(() => {\n    onInput(id, value, isValid);\n    return () => {};\n  }, [id, value, isValid, onInput]);\n\n  const element =\n    props.element === \"input\" ? (\n      <input\n        id={id}\n        type={props.type}\n        placeholder={props.placeholder}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={value}\n      />\n    ) : (\n      <textarea\n        id={id}\n        rows={props.rows || 3}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={value}\n      />\n    );\n  return (\n    <div\n      className={`form-control ${props.className} ${\n        !inputState.isValid && inputState.isTouched && \"form-control--invalid\"\n      }`}\n    >\n      <label htmlFor={id}>{props.label}</label>\n      {element}\n      {!inputState.isValid && inputState.isTouched && <p>{props.errorText}</p>}\n    </div>\n  );\n};\n\nexport default Input;\n","import { useCallback, useReducer } from \"react\";\n\n// Reducer\nconst formReducer = (state, action) => {\n  switch (action.type) {\n    case \"INPUT_CHANGE\":\n      let formIsValid = true;\n      for (const inputId in state.inputs) {\n        if (!state.inputs[inputId]) {\n          continue;\n        }\n        if (inputId === action.inputId) {\n          formIsValid = formIsValid && action.isValid;\n        } else {\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\n        }\n      }\n      return {\n        inputs: {\n          ...state.inputs,\n          [action.inputId]: { value: action.value, isValid: action.isValid },\n        },\n        isValid: formIsValid,\n      };\n    case \"SET_DATA\":\n      return {\n        ...state,\n        inputs: action.inputs,\n        isValid: action.formIsValid,\n      };\n    default:\n      return state;\n  }\n};\nexport const useForm = (initialInputs, initialFormValidity) => {\n  const [formState, dispatch] = useReducer(formReducer, {\n    inputs: initialInputs,\n    isValid: initialFormValidity,\n  });\n  const inputHandler = useCallback((id, value, isValid) => {\n    dispatch({ type: \"INPUT_CHANGE\", value, isValid, inputId: id });\n  }, []);\n  const setFormData = useCallback((inputData, formValidity) => {\n    dispatch({\n      type: \"SET_DATA\",\n      inputs: inputData,\n      formIsValid: formValidity,\n    });\n  }, []);\n  return [formState, inputHandler, setFormData];\n};\n","import { createContext } from \"react\";\n\nexport const AuthContext = createContext({\n  isLoggedIn: false,\n  userId: null,\n  token: null,\n  login: () => {},\n  logout: () => {},\n});\n","import React, { useRef, useState, useEffect } from \"react\";\n\nimport Button from \"./Button\";\nimport \"./ImageUpload.css\";\n\nconst ImageUpload = (props) => {\n  const [file, setFile] = useState();\n  const [previewUrl, setPreviewUrl] = useState();\n  const [isValid, setIsValid] = useState(false);\n\n  const filePickerRef = useRef();\n\n  // Side-effects\n  useEffect(() => {\n    if (!file) {\n      return;\n    }\n    const fileReader = new FileReader();\n    fileReader.onload = () => {\n      setPreviewUrl(fileReader.result);\n    };\n    fileReader.readAsDataURL(file);\n    return () => {};\n  }, [file]);\n\n  // Function\n  const pickedHandler = (e) => {\n    let pickedFile;\n    let fileIsValid = isValid;\n    if (e.target.files && e.target.files.length === 1) {\n      pickedFile = e.target.files[0];\n      setFile(pickedFile);\n      setIsValid(true);\n      fileIsValid = true;\n    } else {\n      setIsValid(false);\n      fileIsValid = false;\n    }\n    props.onInput(props.id, pickedFile, fileIsValid);\n  };\n  const pickImageHandler = () => {\n    filePickerRef.current.click();\n  };\n  return (\n    <div className=\"form-control\">\n      <input\n        id={props.id}\n        ref={filePickerRef}\n        type=\"file\"\n        style={{ display: \"none\" }}\n        accept=\".jpg,.png,.jpeg \"\n        onChange={pickedHandler}\n      />\n      <div className={`image-upload ${props.center && \"center\"}`}>\n        <div className=\"image-upload__preview\">\n          {previewUrl && <img src={previewUrl} alt=\"Preview\" />}\n          {!previewUrl && <p>Please pick an image</p>}\n        </div>\n        <Button type=\"button\" onClick={pickImageHandler}>\n          PICK IMAGE\n        </Button>\n      </div>\n      {!isValid && <p>{props.errorText}</p>}\n    </div>\n  );\n};\n\nexport default ImageUpload;\n","import React, { useContext } from \"react\";\n\nimport Input from \"../../shared/components/FormElements/Input\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport {\n  VALIDATOR_REQUIRE,\n  VALIDATOR_MINLENGTH,\n} from \"../../shared/util/validators\";\nimport { useForm } from \"../../shared/hooks/form-hook\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport { useHistory } from \"react-router-dom\";\nimport ImageUpload from \"../../shared/components/FormElements/ImageUpload\";\nimport \"./PlaceForm.css\";\n\n// Reducer\n\nconst NewPlace = () => {\n  const { push } = useHistory();\n  const { token } = useContext(AuthContext);\n  const [isLoading, error, sendRequest, clearError] = useHttpClient();\n  // Functions\n\n  const placeSubmitHandler = async (e) => {\n    e.preventDefault();\n    try {\n      const formData = new FormData();\n      formData.append(\"title\", formState.inputs.title.value);\n      formData.append(\"description\", formState.inputs.description.value);\n      formData.append(\"address\", formState.inputs.address.value);\n      formData.append(\"image\", formState.inputs.image.value);\n      await sendRequest(\n        `${process.env.REACT_APP_BACKEND_URL}/places`,\n        \"POST\",\n        formData,\n        {\n          Authorization: `Bearer ${token}`,\n        }\n      );\n      push(\"/\");\n    } catch (error) {}\n  };\n  // Custom hooks & Side Effects\n  const [formState, inputHandler] = useForm({\n    title: {\n      value: \"\",\n      isValid: false,\n    },\n    description: {\n      value: \"\",\n      isValid: false,\n    },\n    address: {\n      value: \"\",\n      isValid: false,\n    },\n    image: {\n      value: null,\n      isValid: false,\n    },\n  });\n\n  return (\n    <>\n      <ErrorModal error={error} onClear={clearError} />\n      <form className=\"place-form\" onSubmit={placeSubmitHandler}>\n        {isLoading && <LoadingSpinner asOverlay />}\n        <Input\n          id=\"title\"\n          element=\"input\"\n          type=\"text\"\n          label=\"Title\"\n          onInput={inputHandler}\n          validators={[VALIDATOR_REQUIRE()]}\n          errorText=\"Please, enter a valid title.\"\n        />\n        <Input\n          id=\"description\"\n          element=\"textarea\"\n          type=\"text\"\n          label=\"Description\"\n          onInput={inputHandler}\n          validators={[VALIDATOR_MINLENGTH(5)]}\n          errorText=\"Please, enter a valid description (at least 5 characters).\"\n        />\n        <Input\n          id=\"address\"\n          element=\"input\"\n          type=\"text\"\n          label=\"Address\"\n          onInput={inputHandler}\n          validators={[VALIDATOR_REQUIRE()]}\n          errorText=\"Please, enter a valid address.\"\n        />\n        <ImageUpload\n          center\n          id=\"image\"\n          onInput={inputHandler}\n          errorText=\"Please provide an image.\"\n        />\n        <Button type=\"submit\" disabled={!formState.isValid}>\n          ADD PLACE\n        </Button>\n      </form>\n    </>\n  );\n};\n\nexport default NewPlace;\n","import React from \"react\";\n\nimport \"./MainHeader.css\";\n\nconst MainHeader = (props) => {\n  return <header className=\"main-header\">{props.children}</header>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { CSSTransition } from \"react-transition-group\";\n\nimport \"./SideDrawer.css\";\nconst SideDrawer = (props) => {\n  const content = (\n    <CSSTransition\n      in={props.show}\n      timeout={200}\n      classNames=\"slide-in-left\"\n      mountOnEnter\n      unmountOnExit\n    >\n      <aside className=\"side-drawer\" onClick={props.onClick}>\n        {props.children}\n      </aside>\n    </CSSTransition>\n  );\n  return ReactDOM.createPortal(\n    content,\n    document.getElementById(\"drawer-portal\")\n  );\n};\n\nexport default SideDrawer;\n","import React, { useContext } from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport { AuthContext } from \"../../context/auth-context\";\nimport Button from \"../FormElements/Button\";\nimport \"./NavLinks.css\";\n\nconst NavLinks = () => {\n  const { isLoggedIn, logout, userId } = useContext(AuthContext);\n  return (\n    <ul className=\"nav-links\">\n      <li>\n        <NavLink to=\"/\" exact>\n          ALL USERS\n        </NavLink>\n      </li>\n      {isLoggedIn && (\n        <>\n          <li>\n            <NavLink to={`/${userId}/places`}>MY PLACES</NavLink>\n          </li>\n\n          <li>\n            <NavLink to=\"/places/new\">ADD PLACE</NavLink>\n          </li>\n        </>\n      )}\n      {!isLoggedIn && (\n        <li>\n          <NavLink to=\"/auth\">SIGN-IN</NavLink>\n        </li>\n      )}\n      {isLoggedIn && (\n        <li>\n          <Button onClick={logout}>SIGN-OUT</Button>\n        </li>\n      )}\n    </ul>\n  );\n};\n\nexport default NavLinks;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport MainHeader from \"./MainHeader\";\nimport SideDrawer from \"./SideDrawer\";\nimport NavLinks from \"./NavLinks\";\nimport \"./MainNavigation.css\";\nimport Backdrop from \"../UIElements/Backdrop\";\n\nconst MainNavigation = (props) => {\n  const [drawerIsOpen, setDrawerIsOpen] = useState(false);\n\n  // Functions\n  const openDrawerHandler = () => {\n    setDrawerIsOpen(true);\n  };\n  const closeDrawerHandler = () => {\n    setDrawerIsOpen(false);\n  };\n  return (\n    <>\n      {drawerIsOpen && <Backdrop onClick={closeDrawerHandler} />}\n\n      <SideDrawer show={drawerIsOpen} onClick={closeDrawerHandler}>\n        <nav className=\"main-navigation__drawer-nav\">\n          <NavLinks />\n        </nav>\n      </SideDrawer>\n\n      <MainHeader>\n        <button\n          className=\"main-navigation__menu-btn\"\n          onClick={openDrawerHandler}\n        >\n          <span></span>\n          <span></span>\n          <span></span>\n        </button>\n        <h1 className=\"main-navigation__title\">\n          <Link to=\"/\">PlaceShare</Link>\n        </h1>\n        <nav className=\"main-navigation__header-nav\">\n          <NavLinks />\n        </nav>\n      </MainHeader>\n    </>\n  );\n};\n\nexport default MainNavigation;\n","import React, { useRef, useEffect } from \"react\";\n\nimport \"./Map.css\";\n\nconst Map = (props) => {\n  const mapRef = useRef();\n  const { center, zoom } = props;\n\n  // Functions\n\n  // Side-Effects\n  useEffect(() => {\n    const map = new window.google.maps.Map(mapRef.current, {\n      center: center,\n      zoom: zoom,\n    });\n    new window.google.maps.Marker({ position: center, map: map });\n  }, [center, zoom]);\n  return (\n    <div\n      ref={mapRef}\n      className={`map ${props.className}`}\n      style={props.style}\n      id=\"map\"\n    ></div>\n  );\n};\n\nexport default Map;\n","import React, { useState, useContext } from \"react\";\n\nimport Card from \"../../shared/components/UIElements/Card\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport Modal from \"../../shared/components/UIElements/Modal\";\nimport Map from \"../../shared/components/UIElements/Map\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport \"./PlaceItem.css\";\n\nconst PlaceItem = (props) => {\n  const [isLoading, error, sendRequest, clearError] = useHttpClient();\n  const { userId, token } = useContext(AuthContext);\n  const [showMap, setShowMap] = useState(false);\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\n\n  // Functions\n  const openMapHandler = () => setShowMap(true);\n  const closeMapHandler = () => setShowMap(false);\n  const openConfirmModalHandler = () => setShowConfirmModal(true);\n  const closeConfirmModalHandler = () => setShowConfirmModal(false);\n  const confirmDeleteHandler = async () => {\n    setShowConfirmModal(false);\n    try {\n      await sendRequest(\n        `${process.env.REACT_APP_BACKEND_URL}/places/${props.id}`,\n        \"DELETE\",\n        null,\n        {\n          Authorization: `Bearer ${token}`,\n        }\n      );\n      props.onDelete(props.id);\n    } catch (error) {}\n  };\n\n  return (\n    <>\n      <ErrorModal error={error} onClear={clearError} />\n      <Modal\n        show={showMap}\n        onCancel={closeMapHandler}\n        header={props.address}\n        contentClass=\"place-item__modal-content\"\n        footerClass=\"place-item__modal-actions\"\n        footer={<Button onClick={closeMapHandler}>CLOSE</Button>}\n      >\n        <div className=\"map-container\">\n          <Map center={props.coordinates} zoom={16} />\n        </div>\n      </Modal>\n      <Modal\n        show={showConfirmModal}\n        onCancel={closeConfirmModalHandler}\n        header=\"Are you sure?\"\n        footerClass=\"place-item__modal-actions\"\n        footer={\n          <>\n            <Button inverse onClick={closeConfirmModalHandler}>\n              Cancel\n            </Button>\n            <Button danger onClick={confirmDeleteHandler}>\n              Proceed\n            </Button>\n          </>\n        }\n      >\n        <p>\n          Do you want to proceed and delete this place? This action cannot be\n          undone.\n        </p>\n      </Modal>\n      <li className=\"place-item\">\n        <Card className=\"place-item__content\">\n          {isLoading && <LoadingSpinner asOverlay />}\n          <div className=\"place-item__image\">\n            <img\n              src={`${process.env.REACT_APP_ASSET_URL}/${props.image}`}\n              alt={props.title}\n            />\n          </div>\n          <div className=\"place-item__info\">\n            <h2>{props.title}</h2>\n            <h3>{props.address}</h3>\n            <p>{props.description}</p>\n          </div>\n          <div className=\"place-item__actions\">\n            <Button inverse onClick={openMapHandler}>\n              VIEW ON MAP\n            </Button>\n            {userId === props.creatorId && (\n              <Button to={`/places/${props.id}`}>EDIT</Button>\n            )}\n            {userId === props.creatorId && (\n              <Button danger onClick={openConfirmModalHandler}>\n                DELETE\n              </Button>\n            )}\n          </div>\n        </Card>\n      </li>\n    </>\n  );\n};\n\nexport default PlaceItem;\n","import React from \"react\";\n\nimport Card from \"../../shared/components/UIElements/Card\";\nimport PlaceItem from \"./PlaceItem\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport \"./PlacesList.css\";\n\nconst PlacesList = (props) => {\n  if (props.items.length === 0) {\n    return (\n      <div className=\"place-list center\">\n        <Card>\n          <h2>No places found. Create One? </h2>\n          <Button to=\"/places/new\">Share Place</Button>\n        </Card>\n      </div>\n    );\n  }\n  return (\n    <ul className=\"place-list\">\n      {props.items.map((place) => (\n        <PlaceItem\n          key={place.id}\n          id={place.id}\n          image={place.image}\n          title={place.title}\n          description={place.description}\n          address={place.address}\n          creatorId={place.creator}\n          coordinates={place.location}\n          onDelete={props.onDeletePlace}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default PlacesList;\n","import React, { useEffect, useState } from \"react\";\n\nimport PlacesList from \"../components/PlacesList\";\nimport { useParams } from \"react-router-dom\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\n\nconst UserPlaces = () => {\n  const { uid } = useParams();\n  const [userPlaces, setUserPlaces] = useState();\n  const [isLoading, error, sendRequest, clearError] = useHttpClient();\n\n  // Side-effects and custom hooks\n  useEffect(() => {\n    const fetchPlaces = async () => {\n      try {\n        const { places } = await sendRequest(\n          `${process.env.REACT_APP_BACKEND_URL}/places/user/${uid}`\n        );\n\n        setUserPlaces(places);\n      } catch (error) {}\n    };\n    fetchPlaces();\n    return () => {};\n  }, [sendRequest, uid]);\n\n  // Functions\n  const placeDeletedHandler = (deletedPlaceId) => {\n    setUserPlaces((prevPlaces) =>\n      prevPlaces.filter((place) => place.id !== deletedPlaceId)\n    );\n  };\n\n  return (\n    <>\n      <ErrorModal error={error} onClear={clearError} />\n      {isLoading && (\n        <div className=\"center\">\n          <LoadingSpinner />\n        </div>\n      )}\n      {!isLoading && userPlaces && (\n        <PlacesList items={userPlaces} onDeletePlace={placeDeletedHandler} />\n      )}\n    </>\n  );\n};\n\nexport default UserPlaces;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport Input from \"../../shared/components/FormElements/Input\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport {\n  VALIDATOR_REQUIRE,\n  VALIDATOR_MINLENGTH,\n} from \"../../shared/util/validators\";\nimport { useForm } from \"../../shared/hooks/form-hook\";\nimport Card from \"../../shared/components/UIElements/Card\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport \"./PlaceForm.css\";\n\nconst UpdatePlace = () => {\n  const { userId, token } = useContext(AuthContext);\n  const { push } = useHistory();\n  const { pid } = useParams();\n  const [fetchedPlace, setFetchedPlace] = useState();\n  const [isLoading, error, sendRequest, clearError] = useHttpClient();\n\n  // Functions\n  const placeUpdateHandler = async (e) => {\n    e.preventDefault();\n    try {\n      await sendRequest(\n        `${process.env.REACT_APP_BACKEND_URL}/places/${pid}`,\n        \"PATCH\",\n        JSON.stringify({\n          title: formState.inputs.title.value,\n          description: formState.inputs.description.value,\n        }),\n        {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        }\n      );\n      push(`/${userId}/places`);\n    } catch (error) {}\n  };\n  // Side-Effects & Custom Hooks\n  const [formState, inputHandler, setFormData] = useForm(\n    {\n      title: {\n        value: \"\",\n        isValid: false,\n      },\n      description: {\n        value: \"\",\n        isValid: false,\n      },\n    },\n    false\n  );\n\n  useEffect(() => {\n    const fetchPlace = async () => {\n      try {\n        const { place } = await sendRequest(\n          `${process.env.REACT_APP_BACKEND_URL}/places/${pid}`\n        );\n        setFetchedPlace(place);\n        setFormData(\n          {\n            title: {\n              value: place.title,\n              isValid: true,\n            },\n            description: {\n              value: place.description,\n              isValid: true,\n            },\n          },\n          true\n        );\n      } catch (error) {}\n    };\n    fetchPlace();\n    return () => {};\n  }, [setFormData, pid, sendRequest]);\n\n  if (isLoading) {\n    return (\n      <div className=\"center\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  if (!fetchedPlace && !error) {\n    return (\n      <div className=\"center\">\n        <Card>\n          <h2>Place could not be found!</h2>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <ErrorModal error={error} onClear={clearError} />\n      {!isLoading && fetchedPlace && (\n        <form className=\"place-form\" onSubmit={placeUpdateHandler}>\n          <Input\n            element=\"input\"\n            type=\"text\"\n            id=\"title\"\n            label=\"Title\"\n            validators={[VALIDATOR_REQUIRE()]}\n            errorText=\"Please, enter a valid title.\"\n            onInput={inputHandler}\n            initialValue={fetchedPlace.title}\n            initialIsValid={true}\n          />\n          <Input\n            element=\"textarea\"\n            id=\"description\"\n            label=\"Description\"\n            validators={[VALIDATOR_MINLENGTH(5)]}\n            errorText=\"Please, enter a valid description (at least 5 characters).\"\n            onInput={inputHandler}\n            initialValue={fetchedPlace.description}\n            initialIsValid={true}\n          />\n          <Button type=\"submit\" disabled={!formState.isValid}>\n            UPDATE PLACE\n          </Button>\n        </form>\n      )}\n    </>\n  );\n};\n\nexport default UpdatePlace;\n","import React, { useState, useContext } from \"react\";\n\nimport Card from \"../../shared/components/UIElements/Card\";\nimport Input from \"../../shared/components/FormElements/Input\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport { useForm } from \"../../shared/hooks/form-hook\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport {\n  VALIDATOR_EMAIL,\n  VALIDATOR_MINLENGTH,\n  VALIDATOR_REQUIRE,\n} from \"../../shared/util/validators\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport \"./Auth.css\";\nimport ImageUpload from \"../../shared/components/FormElements/ImageUpload\";\n\nconst Auth = () => {\n  const { login } = useContext(AuthContext);\n  const [isLoginMode, setIsLoginMode] = useState(true);\n  const [isLoading, error, sendRequest, clearError] = useHttpClient();\n  const [formState, inputHandler, setFormData] = useForm(\n    {\n      email: {\n        value: \"\",\n        isValid: false,\n      },\n      password: {\n        value: \"\",\n        isValid: false,\n      },\n    },\n    false\n  );\n  const switchModeHandler = () => {\n    if (!isLoginMode) {\n      setFormData(\n        { ...formState.inputs, name: undefined, image: undefined },\n        formState.inputs.email.isValid && formState.inputs.password.isValid\n      );\n    } else {\n      setFormData(\n        {\n          ...formState.inputs,\n          name: {\n            value: \"\",\n            isValid: false,\n          },\n          image: {\n            value: null,\n            isValid: false,\n          },\n        },\n        false\n      );\n    }\n    setIsLoginMode((prevMode) => !prevMode);\n  };\n  const authSubmitHandler = async (e) => {\n    e.preventDefault();\n\n    if (isLoginMode) {\n      try {\n        const responseData = await sendRequest(\n          `${process.env.REACT_APP_BACKEND_URL}/users/login`,\n          \"POST\",\n          JSON.stringify({\n            email: formState.inputs.email.value,\n            password: formState.inputs.password.value,\n          }),\n          {\n            \"Content-Type\": \"application/json\",\n          }\n        );\n        login(responseData.userId, responseData.token);\n      } catch (error) {}\n    } else {\n      try {\n        const formData = new FormData();\n        formData.append(\"name\", formState.inputs.name.value);\n        formData.append(\"email\", formState.inputs.email.value);\n        formData.append(\"password\", formState.inputs.password.value);\n        formData.append(\"image\", formState.inputs.image.value);\n        const responseData = await sendRequest(\n          `${process.env.REACT_APP_BACKEND_URL}/users/signup`,\n          \"POST\",\n          formData\n        );\n        login(responseData.userId, responseData.token);\n      } catch (error) {}\n    }\n  };\n\n  return (\n    <>\n      <ErrorModal error={error} onClear={clearError} />\n      <Card className=\"authentication\">\n        {isLoading && <LoadingSpinner asOverlay />}\n        <h2>Login Required</h2>\n        <hr />\n        <form onSubmit={authSubmitHandler}>\n          {!isLoginMode && (\n            <Input\n              id=\"name\"\n              element=\"input\"\n              type=\"text\"\n              label=\"Full Name\"\n              validators={[VALIDATOR_REQUIRE()]}\n              errorText=\"Please enter a name.\"\n              onInput={inputHandler}\n            />\n          )}\n          {!isLoginMode && (\n            <ImageUpload\n              center\n              id=\"image\"\n              onInput={inputHandler}\n              errorText=\"Please provide an image.\"\n            />\n          )}\n          <Input\n            id=\"email\"\n            element=\"input\"\n            type=\"email\"\n            label=\"E-mail\"\n            validators={[VALIDATOR_EMAIL()]}\n            errorText=\"Please enter a valid email address.\"\n            onInput={inputHandler}\n          />\n          <Input\n            id=\"password\"\n            element=\"input\"\n            type=\"password\"\n            label=\"Password\"\n            validators={[VALIDATOR_MINLENGTH(6)]}\n            errorText=\"Please enter a valid password, at least 6 characters.\"\n            onInput={inputHandler}\n          />\n          <Button type=\"submit\" disabled={!formState.isValid}>\n            {isLoginMode ? \"LOGIN\" : \"SIGN-UP\"}\n          </Button>\n        </form>\n        <Button inverse onClick={switchModeHandler}>\n          SWITCH TO {isLoginMode ? \"SIGN-UP\" : \"LOGIN\"}\n        </Button>\n      </Card>\n    </>\n  );\n};\n\nexport default Auth;\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from \"react-router-dom\";\n\nimport Users from \"./user/pages/Users\";\nimport NewPlace from \"./places/pages/NewPlace\";\nimport MainNavigation from \"./shared/components/Navigation/MainNavigation\";\nimport UserPlaces from \"./places/pages/UserPlaces\";\nimport UpdatePlace from \"./places/pages/UpdatePlace\";\nimport Auth from \"./user/pages/Auth\";\nimport { AuthContext } from \"./shared/context/auth-context\";\nimport { useAuth } from \"./shared/hooks/auth-hook\";\n\nfunction App() {\n  const [login, logout, token, userId] = useAuth();\n  let routes;\n  if (token) {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/:uid/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/places/new\" exact>\n          <NewPlace />\n        </Route>\n        <Route path=\"/places/:pid\" exact>\n          <UpdatePlace />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n  } else {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/:uid/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/auth\" exact>\n          <Auth />\n        </Route>\n        <Redirect to=\"/auth\" />\n      </Switch>\n    );\n  }\n\n  // Functions\n\n  return (\n    <AuthContext.Provider\n      value={{ isLoggedIn: !!token, token, userId, login, logout }}\n    >\n      <Router>\n        <MainNavigation />\n        <main>{routes}</main>\n      </Router>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <App />,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}